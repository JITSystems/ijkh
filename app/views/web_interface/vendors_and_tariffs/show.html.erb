<div class="top_plate">
	<p class="text_plate_gray">Сервис для учета расходов и оплаты услуг в сфере ЖКХ</p>
	<p class="text_plate_blue">Тарифы и поставщики</p>
</div>

<div class="container_boxes">
  <div class="horizontal_div" style="width: 100%; float: none;">
    <div class="box_blue" id="" style="min-height:245px;width:880px;padding: 25px; background-color: #e8eef2; font-size: 0.9em;">
       
      <table id="vendors_table">
            <thead>
                  <tr>
                        <td><p>Наименование получателя</p></td>
                        <td><p>Регион</p></td>
                        <td><p>Вид услуг</p></td>
                        <td><p>Комиссия, (%)</p></td>
                  </tr>
            </thead>
            <tbody>
                  <% @vendors.order(:commission).each do |vendor| %>
                        <tr>
                              <td>
                                    <p><%= vendor.title %></p>
                              </td>
                              
                              
                              <td>
                                    <% if vendor.cities != [] %>
                                    <p><%= vendor.cities[0].title %></p>
                                    <% end %>
                              </td>
                              
                              
                              <td>
                                    <p><%= vendor.service_type.title if vendor.service_type %></p>
                              </td>

                              
                              <td>
                                    <p><%= vendor.commission.to_s.split('.').last.to_i == 0 ? vendor.commission.to_i : vendor.commission %></p>
                              </td>
                        </tr>
                  <% end %>  
            </tbody>
       </table>
       

    </div>
  </div>
</div>

<style>
      table{
            position: relative;
            margin: 0 auto;
            width: 100%;
      }

      td{
            padding: 5px;
            border: 1px #686868 solid;
      }

      table thead tr:first-child
      {
            font-weight: 600;
            background-color: #CCC;
      }
</style>

<script type="text/javascript" src="/javascripts/jquery.dataTables.min.js"></script>


<script>
     $('#vendors_table').dataTable( {
        "bPaginate": false,
        "bLengthChange": false,
        "bFilter": true,
        "bInfo": false,
        "bAutoWidth": false,
        "aaSorting": [ [3,'asc'], [1,'asc'] ]
    } );
</script>







